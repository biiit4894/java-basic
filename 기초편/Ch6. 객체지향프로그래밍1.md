# Chapter 6 객체지향 프로그래밍 1

# 객체지향 언어

- 재사용성, 코드 관리, 신뢰성(제어자, 메서드)

## 클래스와 객체

- 클래스: 객체를 정의한 것. 객체를 생성하는데에 쓰임
- 객체: 유무형적 사물또는 개념. 객체의 기능과 속성에 따라 쓰임새가 달라짐. 클래스에 정의된대로 메모리에 생성된 것
- 클래스를 먼저 정의하고 객체를 생성한다. 설계도에 따라 제품을 만들듯.

## 객체

### 구성요소

1. 속성(property) : 멤버변수(variable)
2. 기능(function) : 메서드(method)

- 객체의 속성, 기능을 객체의 멤버라 부름.

## 인스턴스

- 클래스의 인스턴스화(instantiate) : 클래스로부터 객체를 만듦.
- 인스턴스(instance) : 클래스로부터 만들어진 객체
- 객체는 인스턴스를 포괄하는 표현 vs 인스턴스는 자기가 출발한 클래스를 더 강조함
  - ex) 강아지는 객체다. 강아지는 강아지 클래스의 인스턴스다.

## 한 파일에 여러 클래스 작성하기

- 소스파일 이름은 public 클래스 이름과 대소문자까지 일치시키기(public class 없으면 다른 클래스이름으로)
- public 클래스 두개 이상 안됨

## 객체의 생성과 사용

```java
클래스명 변수명;          // 참조변수 선언
변수명 = new 클래스명();  // 클래스 객체 생성, 참조변수에 객체 주소 저장

Dog d;                   // Dog클래스 타입의 참조변수 d 선언
d = new Dog();           // Dog 인스턴스 생성, 그 주소를 참조변수 d에 저장
```

## 객체 배열

- 객체 배열 안에 객체의 주소 저장 → 참조변수를 묶은 참조변수 배열임.

## 클래스의 정의

### 데이터와 함수의 결합

- 데이터 저장형태

1. 변수 : 하나의 데이터
2. 배열 : 같은 종류의 여러 데이터
3. 구조체 : 관련된 여러 데이터를 종류 관계없이 모으기
4. 클래스 : 구조체 + 함수

- 객체지향언어에서는 변수와 함수를 하나의 클래스에 정의해 관계가 깊은 변수와 함수들을 함께 다룸

### 사용자 정의 타입

- user-defined type, 기본 자료형 외
- 자바 같은 객체지향언어는 클래스가 곧 사용자 정의 타입

## 선언위치에 따른 변수의 종류

- 변수

1. 클래스 변수 : 모든 인스턴스가 공통된 저장공간(변수) 공유 → 모든 인스턴스가 유지해야하는 값이 필요할때?
2. 인스턴스 변수 : 인스턴스마다 별도의 저장공간 → 인스턴스마다 다른 값이 필요할때?
3. 지역변수 : 메서드가 종료되면 소멸되어 사용불가

- 멤버변수 제외 나머지 변수는 지역변수. 멤버변수 중 static이 붙으면 클래스 변수, 안 붙으면 인스턴스 변수

## 클래스 변수와 인스턴스변수

- 클래스 변수는 **********\*\***********\*\***********\*\***********클래스이름.클래스변수**********\*\***********\*\***********\*\***********로 사용하는 것이 좋음
  - 인스턴스.클래스변수로도 사용할 수 있지만 이러면 클래스변수를 인스턴스변수로 착각할수도

## 메서드

```java
반환타입 메서드명 (타입 변수명, 타입 변수명, ... ) // 선언부
{
	// 구현부
}
```

- 매개변수 선언 : 같은 타입이어도 변수의 타입 생략 불가
- 메서드이름(값1, 값2, … ) // 호출

## return문

- 반환타입이 void이면 컴파일러가 알아서 return문을 추가해줌
- 반환값이 있으면 return문은 생략불가
- 조건식의 결과에 따라 return문이 생략될 수도 아닐 수도 있게 작성하면 return문이 없다는 에러 발생

## 호출스택(call stack)

- 메서드 호출 → 호출스택에 메모리 할당 → 지역변수들, 연산 중간결과 등 저장 → 메서드 종류 후 메모리 공간 정리
- 가장 위에 있는 메소드가 실행중이고, 걔는 그 아래의 메서드에 의해서 호출됐음.

## 매개변수

1. 기본형 매개변수
   - read only
2. 참조형 매개변수
   - read, write 가능

## 매개변수

1. 기본형 매개변수
   - read only
2. 참조형 매개변수
   - read, write 가능
   - 값 x 값이 저장된 주소 o (or 객체라고 봐도 됨)ㅓㅡ를 메서드에 넘겨주니 값 변경 가능함.

### 참조형 반환타입

- copy() : 객체 새로 생성 → 매개변수 객체에 저장된 값 저장, 반환

## static 메서드, 인스턴스 메서드

- 인스턴스변수 사용여부로 구분함.
- 객체 = iv(인스턴스변수)의 묶음!!
- static 메서드 → 클래스 메서드
  - 객체 생성 없이 **클래스이름.메서드이름()** 으로 호출 가능한 메서드!!
  - Math.random(), Math.round() …
  - 인스턴스와 관계없는 메서드가 클래스 메서드
- 인스턴스 메서드 : 객체 생성 필요.
  - **참조변수.메서드이름()**

## static은 언제 쓰나..

- 멤버 변수(속성) 중에서도 공통 속성에 붙인다.
- iv(특히), im을 사용하지 않는 메서드에 붙인다.

## 오버로딩

- 메서드 : 메서드 이름 = n : 1 (한 메서드 이름에 여러 메서드가 과적됨)
- 한 클래스 내에 이름이 같은 메서드를 여러 개 정의
  - 매개변수의 수 or 타입이 달라야 함 (반환 타입은 무관)

## 생성자

- 인스턴스 초기화 메서드
- 리턴값이 없으니 void도 안붙임

```java
클래스이름(타입 변수명, 타입 변수명, ...) {
		// 인스턴스 생성 시 수행될 코드
		// 주로 iv 초기화
}
```

### 기본 생성자

- 모든 클래스는 생성자를 가져야 함
  - 없으면 컴파일러가 기본 생성자를 알아서 만들어줌. 그치만 직접 만드는게 좋기는 하다..
    ```java
    클래스이름() {}
    ```
  - 클래스에 생성자가 하나도 없을때만! 알아서 추가되니 주의

### 매개변수가 있는 생성자

- 인스턴스 생성하고 따로 iv들 초기화할 필요 없이, 간결하게 생성과 동시에 원하는 값으로 초기화 가능.

### 생성자에서 다른 생성자 호출할때

- 클래스 이름 대신 this() 사용 + 반드시 첫 줄에서만 호출 가능함
- !!! 참조변수 this ≠ this() 생성자

### 참조변수 this

- lv(지역변수), iv(인스턴스 변수) 구별에 사용
- 인스턴스멤버만 사용가능

!! this는 참조변수 VS this()는 생성자

## 변수/멤버변수의 초기화

- 멤버변수는 자동으로 기본값으로 초기화, but 지역변수는 필수적으로 직접 초기화해야함
- 클래스 변수가 초기화된 후에 인스턴스 변수가 초기화됨
- 초기화 순서!! : 자동 - 간단 - 복잡
- 1. 자동(멤버변수) 초기화 → 2. 명시적 초기화(대입연산자, 간단) → 3. 초기화 블럭(→ 거의 안씀), 생성자 (복잡)
  - 명시적 초기화
    ```java
    class House {
    		int window = 4;      // 기본형 변수의 초기화
    		Room r = new Room(); // 참조형 변수의 초기화
    }
    ```
  - 초기화 블럭: { } - 인스턴스 초기화 vs static { } - 클래스 초기화
  - 생성자: 인스턴스 변수 초기화
    ```java
    House(String location, String room, int window) {  // 매개변수 있는 생성자
    		this.location = location;
    		this.room = room;
    		this.window = window;
    }
    ```
