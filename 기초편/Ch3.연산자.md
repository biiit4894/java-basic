# Chapter 3 연산자

# 02 연산자의 종류

| 종류        | 연산자                | 설명                                         |
| ----------- | --------------------- | -------------------------------------------- | ---------- | --- |
| 산술 연산자 | + - \* / % << >>      | 사칙 연산과 나머지 연산                      |
| 비교 연산자 | > < ≥ ≤ == ≠          |                                              |
| 논리 연산자 | &&                    |                                              | ! & ㅣ ^ ~ |     |
| 대입 연산자 | =                     |                                              |
| 기타        | (type) ? : instanceof | 형변환 연산자, 삼항 연산자, instanceof연산자 |

# 04 연산자의 결합규칙

- 산술 > 비교 > 논리 > 대입. (대입이 가장 마지막에 수행됨
- 단항 > 이항 > 삼항 (단항 연산자의 우선순위가 이항 연산자보다 높다)
- **단항 연산자, 대입 연산자**를 제외한 모든 연산은 **왼 → 오**로 진행

# 05 증감 연산자 ++과 —

- 전위형(prefix)
  - 값이 참조되기 전에 증가시킴
    ex) x = ++i; → 증가 후에 참조하여 대입
- 후위형(postfix)
  - 값이 참조된 **\*\***후에**\*\*** 증가시킴
    ex) x = i++; → 참조하여 대입한 후에 증가
- 증감연산자가 수식이나 메서드 호출에 포함되지 않고 그냥 한 문장으로 쓰이면 차이 없음

# 06 부호 연산자

- 부호 연산자는 boolean형, char형을 제외한 기본형에만 사용할 수 있음.

# 08 자동 형변환

- 생략된 형변환은 컴파일러가 자동적으로 추가해줌
  - ex) float f = 1234; // float f = (float)1234; 에서 캐스트(형변환) 연산자가 생략된 것
- 저장할 수 있는 값의 범위보다 더 큰 값을 저장하려는 경우 형변환을 생략하면 에러가 발생함
  - ex) byte b = 1000; // byte 타입의 범위(-128~127)를 벗어남 → 에러
  - ex) byte b = (byte)1000; // OK. 값 손실, -24 저장
- 기존의 값을 최대한 보존할 수 있는 타입으로 자동 형변환
- 표현범위 좁 > 넓으로의 형변환 → 값 손실 없음

# 09 사칙 연산자

- 피연산자가 정수형인 경우, 0으로 나눌 수 없음. 0으로 나누면 에러 발생
- 10 / 4.0f → 10.0f / 4.0f → 2.5f

# 10 산술 변환

1. 두 피연산자의 타입을 보다 큰 타입으로 일치시키기
2. 피연산자의 타입이 int보다 작은 타입이면 int로 변환됨

- 연산결과의 타입은 피연산자의 타입과 동일
- 산술 변환 = 연산 직전에 발생하는 자동 형변환
- 작은 자료형의 변수 → 큰 자료형의 변수
  - 저장 시 자동 형변환
- 큰 자료형의 변수 → 작은 자료형의 변수
  - 명시적 형변환 필요

# 11 Math.round()로 반올림하기

- Math.round()
  - 소수점 첫째 자리에서 반올림한 결과를 정수로 반환
  - 다른 자리에서 반올림 하려면 10의 n승 적절히 곱해주고 나눠주기

# 12 나머지 연산자

- 나머지 연산자(%)는 음수도 나누는 수로 허용함.
  - 피연산자 부호를 싹 무시하고 일단 나머지 연산을 하고, 왼쪽 피연산자의 부호를 붙인다.

# 13 비교 연산자

- 연산결과는 오직 true / false
- 비교하는 피연산자의 타입이 다르면 자료형의 범위가 큰 쪽으로 자동 형변환

1. 대소비교 연산자
   1. boolean 제외 기본형에 다 사용 가능
   2. 참조형 사용 불가
2. 등가비교 연산자
   1. 모든 자료형 사용 가능
   2. 기본형 - 참조형 형변환은 불가하기 때문에 등가비교 연산자로 둘을 비교할 수는 없음

# 14 문자열의 비교

- `'=='` (X)
  - 내용이 같아도 서로 다른 객체이면 false 반환
- `equals()` (O)
  - 객체가 달라도 내용이 같으면 true 반환
  - 문자열 비교 시 항상 equals()를 쓰자!
- `equalsIgnoreCase()`
  - 대소문자 구별 없이 비교할 때 사용
- 원래 String은 클래스이기 때문에 `new`로 객체를 생성하지만, 필수는 아님.
  - ex) `String str = new String("abc");`
  - ex) `String str = "abc";`

# 15 논리 연산자 && || !

1. x는 10보다 크고, 20보다 작다
   - `10 < x < 20` (X)
   - `x > 10 && x < 20` (O)
2. i는 2의 배수 또는 3의 배수지만 6의 배수는 아니다.

   - `( i % 2 == 0 || i % 3 == 0 ) && i % 6 != 0`
   - &&이 ||보다 우선순위가 높음
   - &&, ||를 같이 쓸 때는 괄호를 쓰는 편이 좋다.

3. 문자 ch는 숫자(’0’~’9’)이다.

- `'0' <= ch && ch <= '9'`

🔺 문자 ‘0’부터 ‘9’까지 유니코드는 10진수로 아래와 같음

| 문자     | ‘0’ | ‘1’ | ‘2’ | ‘3’ | ‘4’ | ‘5’ | ‘6’ | ‘7’ | ‘8’ | ‘9’ |
| -------- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 문자코드 | 48  | 49  | 50  | 51  | 52  | 53  | 54  | 55  | 56  | 57  |

1. 문자 ch는 대문자 또는 소문자이다.
   - `('a' <= ch && ch <= 'z') || ( 'A' <= ch && ch <= 'Z')`

# 16 논리 부정 연산자

| x     | !x    |
| ----- | ----- |
| true  | false |
| false | true  |

- ‘문자 ch는 소문자가 아니다’를 이렇게 쓰기보다는..
  ```java
  ch < 'a' || ch > 'z'
  ```
- 이렇게 쓰는 것이 낫다!
  ```java
  !('a' <= ch && ch <= 'z')
  ```

# 17 조건 연산자

```java
조건식 ? 식1 : 식2
```

```java
result = (x > y) ? x : y; // 괄호 생략 가능
```

x > y의 결과가 true → result에는 x의 값이 저장됨

x > y의 결과가 false → result에는 y의 값이 저장됨

- 조건 연산자는 조건문인 if문으로 바꿔 쓸 수 있음

  ```java
  result = (x > y) ? x : y;
  ```

  ```java
  if (x > y)
    result = x;
  else
  	result = y;
  ```

- 조건 연산자의 두 피연산자의 타입이 다르면 산술 변환 발생
  ```java
  x = x + (mod < 0.5 ?   0 : 0.5)
  x = x + (mod < 0.5 ? 0.0 : 0.5) // double타입으로 통일
  ```

# 18 대입 연산자

- lvalue와 rvalue

  - lvalue(left value) : 대입 연산자의 왼쪽 피연산자
    - 반드시 변수처럼 값 변경 가능한 것
    - 리터럴, 상수 - 값 저장 불가(X)
  - rvalue(right value) : 대입 연산자의 오른쪽 피연산자
    - 변수, 식, 상수 모두 가능

- 변수 앞에 키워드 ‘final’을 붙이면 상수가 됨. → lvalue 불가

```java
final int MAX = 3; // final + 변수명 -> 상수
MAX = 10;          // 에러
```

# 19 복합 대입 연산자

다른 연산자(op) + 대입 연산자

‘op=’

| op=           | =                  |
| ------------- | ------------------ | ----- | --- |
| i += 3;       | i = i + 3;         |
| i -= 3;       | i = i - 3;         |
| i \*= 3;      | i= i \* 3;         |
| i /= 3;       | i = i / 3;         |
| i %= 3;       | i = i % 3;         |
| i <≤ 3;       | i = i << 3;        |
| i >≥ 3;       | i = i >> 3;        |
| i &= 3;       | i = i & 3;         |
| i ^= 3;       | i = i ^ 3;         |
| i             | = 3;               | i = i | 3;  |
| i \*= 10 + j; | i = i \* (10 + j); |
